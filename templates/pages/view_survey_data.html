<div class="container">
	<h3 class="page-header">View Survey Data</h3>
	<div>
		<div class="row" >
			<button class="btn btn-warning pull-right lft" ng-click="getDataByFilter()"> Get Data </button>
			<select ng-model="selectedSurvey" ng-options="item.id as item.name for item in misc.survey_details" class="pull-right lft" x-ng-change="updateSurveyID(selectedSurvey)">
			</select>
			<select ng-model="selectedProject" ng-options="item.id as item.name for item in misc.project_details" class="pull-right" x-ng-change="updateProjectID(selectedProject)">
			</select>
		</div>
	<div>
	<div max-width="800px" style="overflow-x:scroll">
	    <table>
	        <tr>
	            <th class="right">Select columns </th>
	            <th ng-repeat="column in columns">
	                <label class="checkbox">
	                <input type="checkbox" id="check" ng-click="trackQuestions(column.question, $index)" class="checkbox" checked ng-model="column.field" ng-init="column.field=true" /> {{column.question}}
	                </label>
	            </th>
	        </tr>
	    </table>
	</div>
	<div max-width="800px" style="overflow-x:scroll">
		<table ng-table="tableParams" show-filter="true" class="table table-striped table-bordered">
	        <thead>
	            <tr>
	            <th class="back valign"></th>
	            <th class="back valign">Participant ID</th>
	            <th class="back valign">Language ID</th>
	                <th class="back valign" ng-repeat="column in columns" ng-show="column.field"
	                    class="text-center sortable"  style="min-width: 250px">
	                    <div>{{column.question}}</div>
	                    <span class="pull-right"><span class="caret"></span><span class="caret-up"></span></span>
	                </th>
	            </tr>
	        </thead>
	        <tbody>
	        	<tr ng-repeat="data in questions">
	        		<td><a class="btn btn-danger"> Delete </a></td>
	        		<td>{{data.participant_ID}}</td>
	        		<td>{{data.lang_id}}</td>
	                <td ng-repeat="column in data.questions" sortable="column.field" ng-show="columns[$index].field" style="min-width:100px">
	                    {{column.answer}}
	                </td>
	        	</tr>
	        </tbody>
	    </table>
	</div>
	</div>
	<div class="col-xs-4 col-xs-offset-4 bottom">
	    <a class="btn btn-success btn-block top pull-right" ng-click="generateCsv()" download="test.csv">Export to CSV</a>
	</div>
</div>